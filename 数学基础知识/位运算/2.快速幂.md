# 快速幂

快速幂，也称二进制取幂，用于在$O(\log{n})$的时间内计算$a^n$的小技巧。**这个技巧也常常用于任何具有结合律的运算中，比方说，矩阵幂。**

二进制取幂的想法是，我们**将取幂的任务==按照指数的 二进制表示 来分割==成更小的任务。**

**获取指数的二进制表示这种思想，在多重背包的二进制表示优化中得以体现，因为任何数都可以表示成二进制的形式，当然多重背包的二进制优化与正常的快速幂的操作是不同的，但是思想是一样的。**

下面是快速幂的使用模板：

```c++
long long binpow(long long a, long long b) {
  long long res = 1;
  while (b > 0) {
    if (b & 1) res = res * a;
    a = a * a;
    b >>= 1;
  }
  return res;
}
```
